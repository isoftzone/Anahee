import{u as K,r as s,s as W,a as ee,b as r,j as i,aJ as O,aL as L}from"./index-9e8b7361.js";import{N as te}from"./index-89838f64.js";import{s as ae}from"./sortBy-49fdc468.js";import{l as re}from"./index-cd88a631.js";import{I as D}from"./IconFile-aca7d41f.js";import{I as se}from"./IconPrinter-87d981d9.js";import"./floating-ui.dom-f8530855.js";import"./_defineProperty-9dff4580.js";const le=["id","PRIMENAME","SEQUENCE"],Ee=()=>{const U=K();s.useEffect(()=>{U(W("Multiple Tables"))}),ee(e=>e.themeConfig.rtlClass);const[h,b]=s.useState(1),T=[10,20,30,50,100],[m,$]=s.useState(T[0]),[S,f]=s.useState([]),[B,E]=s.useState([]),[z,x]=s.useState([]),[Q,j]=s.useState(0),[v,F]=s.useState(""),[C,Y]=s.useState({columnAccessor:"id",direction:"asc"}),[N,k]=s.useState("All"),[_,H]=s.useState([]);s.useEffect(()=>{(async()=>{try{const c=await(await fetch(`${O}/getCodetype`)).json();H(c)}catch(t){console.error("Error fetching data:",t)}})()},[]),s.useEffect(()=>{b(1)},[m]),s.useEffect(()=>{const e=(h-1)*m,t=e+m;E([...S.slice(e,t)])},[h,m,S]),s.useEffect(()=>{f(()=>z.filter(e=>e.SEQUENCE.toString().includes(v.toLowerCase())||e.PRIMENAME.toLowerCase().includes(v.toLowerCase())))},[v]),s.useEffect(()=>{const e=ae(S,C.columnAccessor);f(C.direction==="desc"?e.reverse():e),b(1)},[C]);const V=["Id","PRIMENAME","SEQUENCE"],X=()=>{const e=["id","PRIMENAME","SEQUENCE"];re.downloadExcel({fileName:"table",sheet:"react-export-table-to-excel",tablePayload:{header:V,body:B.map(t=>e.map(c=>t[c]))}})},w=e=>{let t=le,c=S,p="table",u;if(u=window.navigator,e==="csv"){let o=";",d=`
`,a=t.map(n=>R(n)).join(o);if(a+=d,c.map(n=>{t.map((g,I)=>{I>0&&(a+=o);let M=n[g]?n[g]:"";a+=M}),a+=d}),a==null)return;if(!a.match(/^data:text\/csv/i)&&!u.msSaveOrOpenBlob){var q="data:application/csv;charset=utf-8,"+encodeURIComponent(a),A=document.createElement("a");A.setAttribute("href",q),A.setAttribute("download",p+".csv"),A.click()}else{var G=new Blob([a]);u.msSaveOrOpenBlob&&u.msSaveBlob(G,p+".csv")}}else if(e==="print"){var l="<p>"+p+"</p>";l+='<table style="width: 100%; " cellpadding="0" cellcpacing="0"><thead><tr style="color: #515365; background: #eff5ff; -webkit-print-color-adjust: exact; print-color-adjust: exact; "> ',t.map(o=>{l+="<th>"+R(o)+"</th>"}),l+="</tr></thead>",l+="<tbody>",c.map(o=>{l+="<tr>",t.map(d=>{let a=o[d]?o[d]:"";l+="<td>"+a+"</td>"}),l+="</tr>"}),l+="<style>body {font-family:Arial; color:#495057;}p{text-align:center;font-size:18px;font-weight:bold;margin:15px;}table{ border-collapse: collapse; border-spacing: 0; }th,td{font-size:12px;text-align:left;padding: 4px;}th{padding:8px 4px;}tr:nth-child(2n-1){background:#f7f7f7; }</style>",l+="</tbody></table>";var y=window.open("","","left=0,top=0,width=1000,height=600,toolbar=0,scrollbars=0,status=0");y.document.write("<title>Print</title>"+l),y.document.close(),y.focus(),y.print()}else if(e==="txt"){let o=",",d=`
`,a=t.map(n=>R(n)).join(o);if(a+=d,c.map(n=>{t.map((g,I)=>{I>0&&(a+=o);let M=n[g]?n[g]:"";a+=M}),a+=d}),a==null)return;if(!a.match(/^data:text\/txt/i)&&!u.msSaveOrOpenBlob){var J="data:application/txt;charset=utf-8,"+encodeURIComponent(a),P=document.createElement("a");P.setAttribute("href",J),P.setAttribute("download",p+".txt"),P.click()}else{var Z=new Blob([a]);u.msSaveOrOpenBlob&&u.msSaveBlob(Z,p+".txt")}}},R=e=>e.replace("_"," ").replace("-"," ").toLowerCase().split(" ").map(t=>t.charAt(0).toUpperCase()+t.substring(1)).join(" ");return r("div",{children:i("div",{className:"panel mt-6",children:[i("div",{className:"mb-4.5 flex md:items-center md:flex-row flex-col gap-5",children:[r("div",{className:"flex items-center gap-5",children:i("div",{className:"flex items-center flex-wrap",children:[i("button",{type:"button",onClick:()=>w("csv"),className:"btn btn-primary btn-sm m-1 ",children:[r(D,{className:"w-5 h-5 ltr:mr-2 rtl:ml-2"}),"CSV"]}),i("button",{type:"button",onClick:()=>w("txt"),className:"btn btn-primary btn-sm m-1",children:[r(D,{className:"w-5 h-5 ltr:mr-2 rtl:ml-2"}),"TXT"]}),i("button",{type:"button",className:"btn btn-primary btn-sm m-1",onClick:X,children:[r(D,{className:"w-5 h-5 ltr:mr-2 rtl:ml-2"}),"EXCEL"]}),i("button",{type:"button",onClick:()=>w("print"),className:"btn btn-primary btn-sm m-1",children:[r(se,{className:"ltr:mr-2 rtl:ml-2"}),"PRINT"]}),r("button",{type:"button",className:"btn btn-primary btn-sm m-1 w-50 h-5 ltr:mr-2 rtl:ml-2",style:{width:"12%",height:"33px"},onClick:async()=>{if(N!=="All")try{const e=await L.get(`${O}/getMasterSet?codetype=${N}&page=${h}&limit=${m}`),t=e.data.records.map((c,p)=>({...c,id:(h-1)*m+p+1}));console.log(e,"resss"),f(t),E(t),x(t),j(e.data.totalRecords)}catch(e){console.error("Error fetching data:",e)}else if(N=="All")try{const e=await L.get(`${O}/getMasterSet?&page=${h}`);f(e.data.records),E(e.data.records),x(e.data.records),j(e.data.totalRecords)}catch(e){console.error("Error fetching data:",e)}else f([]),E([]),x([])},children:"SEARCH"}),r("button",{type:"button",className:"btn btn-primary btn-sm m-1 w-50 h-5 ltr:mr-2 rtl:ml-2",style:{width:"10%",height:"33px"},onClick:()=>{k(""),f([]),E([]),x([]),b(1)},children:"RESET"})]})}),r("div",{className:"ltr:ml-auto rtl:mr-auto",children:r("input",{type:"text",className:"form-input w-auto",placeholder:"Search...",value:v,onChange:e=>F(e.target.value)})})]}),r("div",{children:r("table",{children:r("tr",{children:r("td",{children:i("label",{htmlFor:"",children:["Master Input",i("select",{name:"Brand Name",style:{border:"1px solid #e5e7eb",borderRadius:"5px",margin:"0px 6px",width:"144px"},value:N,onChange:e=>{k(e.target.value),b(1)},children:[r("option",{value:"All",children:"ALL"}),_.map(e=>r("option",{value:e.CODETYPE,children:e==null?void 0:e.CODETYPE},e.CODETYPE))]})]})})})})}),r("div",{className:"datatables",children:r(te,{highlightOnHover:!0,className:"whitespace-nowrap table-hover",records:B,columns:[{accessor:"id",title:"Id",sortable:!0},{accessor:"PRIMENAME",title:"Prime Name",sortable:!0},{accessor:"SEQUENCE",title:"Sequence",sortable:!0}],totalRecords:Q,recordsPerPage:m,page:h,onPageChange:e=>b(e),recordsPerPageOptions:T,onRecordsPerPageChange:e=>{$(e),b(1)},sortStatus:C,onSortStatusChange:Y})})]})})};export{Ee as default};
